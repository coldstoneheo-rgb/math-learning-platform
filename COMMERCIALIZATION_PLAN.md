# ìƒìš©í™” ê³„íšì„œ (Commercialization Plan)

> **í”„ë¡œì íŠ¸ ì •ì²´ì„±**: AI ê¸°ë°˜ 1:1 ë§ì¶¤í˜• í•™ìŠµ ì»¨ì„¤íŒ… SaaS
> **ìµœìš°ì„  ëª©í‘œ**: ë°°í¬ ë° ìƒìš©í™” (í•™ë¶€ëª¨ ìš°ì„  ì˜¤í”ˆ, êµì‚¬ ëŒ€ìƒ ì¶”í›„ ì˜¤í”ˆ)

**ì‘ì„±ì¼**: 2025-12-31
**ë²„ì „**: v1.0

---

## ëª©ì°¨

1. [Executive Summary](#1-executive-summary)
2. [í˜„ì¬ ìƒíƒœ ë¶„ì„](#2-í˜„ì¬-ìƒíƒœ-ë¶„ì„)
3. [ê¸°ìˆ ì  ê°œì„  ì‚¬í•­ (Technical Improvements)](#3-ê¸°ìˆ ì -ê°œì„ -ì‚¬í•­)
4. [Phase 3: í”Œë«í¼ ê³ ë„í™”](#4-phase-3-í”Œë«í¼-ê³ ë„í™”)
5. [ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ (Business Model)](#5-ë¹„ì¦ˆë‹ˆìŠ¤-ëª¨ë¸)
6. [ìƒìš©í™” ë°°í¬ ê³„íš (Go-to-Market)](#6-ìƒìš©í™”-ë°°í¬-ê³„íš)
7. [ìš´ì˜ ê³ ë„í™” ê³„íš (Operations)](#7-ìš´ì˜-ê³ ë„í™”-ê³„íš)
8. [ì‹¤í–‰ ë¡œë“œë§µ](#8-ì‹¤í–‰-ë¡œë“œë§µ)

---

## 1. Executive Summary

### 1.1. ì œí’ˆ ì •ì˜

**Math Learning Platform**ì€ ê°œì¸ ìˆ˜í•™ ê³¼ì™¸ êµì‚¬ì™€ í•™ë¶€ëª¨ë¥¼ ìœ„í•œ **AI ê¸°ë°˜ 1:1 ë§ì¶¤í˜• í•™ìŠµ ì»¨ì„¤íŒ… SaaS**ì…ë‹ˆë‹¤.

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| **í•µì‹¬ ê°€ì¹˜** | ì‹œí—˜ ë¶„ì„ â†’ AI ì§„ë‹¨ â†’ ê°œì¸í™” ì „ëµ â†’ ì„±ì¥ ì¶”ì ì˜ ì™„ì „í•œ ìˆœí™˜ |
| **ì°¨ë³„ì ** | 6ë‹¨ê³„ Growth Loop ì‹œìŠ¤í…œ, 5ëŒ€ í•µì‹¬ ì§€í‘œ ê¸°ë°˜ ë©”íƒ€í”„ë¡œí•„ |
| **íƒ€ê²Ÿ ê³ ê°** | 1ì°¨: í•™ë¶€ëª¨ (B2C), 2ì°¨: ê°œì¸/ì†Œê·œëª¨ ê³¼ì™¸ êµì‚¬ (B2B) |

### 1.2. í˜„ì¬ ì™„ì„±ë„

```
Phase 0: ê¸´ê¸‰ ê°œì„      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
Phase 1: í’ˆì§ˆ ê³ ë„í™”    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
Phase 2: ë°ì´í„° ì§€ëŠ¥í™”  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  90% âœ…
Phase 3: í”Œë«í¼í™”       â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0% â³
```

### 1.3. ìƒìš©í™” í•µì‹¬ ë§ˆì¼ìŠ¤í†¤

| ë‹¨ê³„ | ëª©í‘œ | ì˜ˆìƒ ê¸°ê°„ |
|------|------|----------|
| **Step 1: MVP ë°°í¬** | í•™ë¶€ëª¨ ë² íƒ€ ì˜¤í”ˆ (5ëª…) | 1ì£¼ |
| **Step 2: ì•ˆì •í™”** | ë³´ì•ˆ/ì„±ëŠ¥ ê°•í™”, í”¼ë“œë°± ë°˜ì˜ | 2ì£¼ |
| **Step 3: ì •ì‹ ì˜¤í”ˆ** | ì „ì²´ í•™ë¶€ëª¨ ì˜¤í”ˆ | 1ì£¼ |
| **Step 4: êµì‚¬ í™•ì¥** | B2B êµì‚¬ í”Œë«í¼ ì˜¤í”ˆ | 4ì£¼ |

---

## 2. í˜„ì¬ ìƒíƒœ ë¶„ì„

### 2.1. ì™„ë£Œëœ ê¸°ëŠ¥

| ì˜ì—­ | ì™„ì„±ë„ | ì£¼ìš” ê¸°ëŠ¥ |
|------|--------|----------|
| **Growth Loop System** | 100% | 6ê°œ ë¦¬í¬íŠ¸ íƒ€ì… ìˆœí™˜ (Baseline â†’ Micro â†’ Macro) |
| **AI ë¶„ì„ ì—”ì§„** | 100% | 5ê°€ì§€ ê´€ì  ì‹¬ì¸µ ë¶„ì„, 5ìš”ì†Œ ì „ëµ ì œì‹œ |
| **ë©”íƒ€í”„ë¡œí•„** | 100% | 5ëŒ€ í•µì‹¬ ì§€í‘œ ìë™ ì¶”ì  (Anchor Loop) |
| **í”¼ë“œë°± ë£¨í”„** | 100% | ì „ëµ íš¨ê³¼ ì¶”ì , ì˜ˆì¸¡ ì •í™•ë„ ê²€ì¦ |
| **PDF ë‚´ë³´ë‚´ê¸°** | 100% | í•œê¸€ ì§€ì›, ê³ í•´ìƒë„ ì°¨íŠ¸ |
| **í•™ë¶€ëª¨ ëŒ€ì‹œë³´ë“œ** | 80% | Growth Loop ìƒíƒœ, ë¦¬í¬íŠ¸ ì—´ëŒ |

### 2.2. ë³´ì™„ í•„ìš” ì˜ì—­ (ìƒìš©í™” í•„ìˆ˜)

| ì˜ì—­ | í˜„ì¬ ìƒíƒœ | ìƒìš©í™” í•„ìˆ˜ ì—¬ë¶€ | ìš°ì„ ìˆœìœ„ |
|------|----------|----------------|---------|
| API Rate Limiting | âŒ ë¯¸êµ¬í˜„ | ğŸ”´ í•„ìˆ˜ | P0 |
| Input Validation (ì„œë²„) | âš ï¸ ë¶€ë¶„ | ğŸ”´ í•„ìˆ˜ | P0 |
| ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ (Sentry) | âŒ ë¯¸êµ¬í˜„ | ğŸ”´ í•„ìˆ˜ | P0 |
| E2E í…ŒìŠ¤íŠ¸ | âŒ ë¯¸êµ¬í˜„ | ğŸŸ¡ ê¶Œì¥ | P1 |
| ì´ë¯¸ì§€ ìµœì í™” | âš ï¸ ë¶€ë¶„ | ğŸŸ¡ ê¶Œì¥ | P1 |
| í•™ë¶€ëª¨ ì•Œë¦¼ | âŒ ë¯¸êµ¬í˜„ | ğŸŸ¡ ê¶Œì¥ | P2 |

---

## 3. ê¸°ìˆ ì  ê°œì„  ì‚¬í•­

### 3.1. ë³´ì•ˆ (Security) - P0 í•„ìˆ˜

#### 3.1.1. API Rate Limiting

**ë¬¸ì œ**: Gemini API ë¬´ì œí•œ í˜¸ì¶œ ì‹œ ë¹„ìš© í­íƒ„ ìœ„í—˜

**í•´ê²°ì±…**: Upstash Redis ê¸°ë°˜ Rate Limiting

```typescript
// src/lib/rate-limit.ts
import { Ratelimit } from '@upstash/ratelimit';
import { Redis } from '@upstash/redis';

const redis = new Redis({
  url: process.env.UPSTASH_REDIS_REST_URL!,
  token: process.env.UPSTASH_REDIS_REST_TOKEN!,
});

// IPë‹¹ í•˜ë£¨ 50íšŒ ë¶„ì„ ì œí•œ
export const analyzeRateLimiter = new Ratelimit({
  redis,
  limiter: Ratelimit.slidingWindow(50, '1d'),
  analytics: true,
  prefix: 'ratelimit:analyze',
});

// ìœ ì €ë‹¹ ì‹œê°„ë‹¹ 10íšŒ ì œí•œ
export const userRateLimiter = new Ratelimit({
  redis,
  limiter: Ratelimit.slidingWindow(10, '1h'),
  analytics: true,
  prefix: 'ratelimit:user',
});
```

**API Route ì ìš©**:

```typescript
// src/app/api/analyze/route.ts
import { analyzeRateLimiter } from '@/lib/rate-limit';

export async function POST(request: Request) {
  const ip = request.headers.get('x-forwarded-for') ?? 'anonymous';

  const { success, limit, reset, remaining } = await analyzeRateLimiter.limit(ip);

  if (!success) {
    return Response.json(
      { error: 'ì¼ì¼ ë¶„ì„ íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ë‚´ì¼ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.' },
      {
        status: 429,
        headers: {
          'X-RateLimit-Limit': limit.toString(),
          'X-RateLimit-Remaining': remaining.toString(),
          'X-RateLimit-Reset': reset.toString(),
        }
      }
    );
  }

  // ê¸°ì¡´ ë¶„ì„ ë¡œì§...
}
```

**ë¹„ìš©**: Upstash Free Tier (10,000 requests/day) â†’ ì¶©ë¶„

---

#### 3.1.2. Input Validation (Zod)

**ë¬¸ì œ**: í´ë¼ì´ì–¸íŠ¸ íƒ€ì…ë§Œ ë¯¿ìœ¼ë©´ ì•…ì˜ì  ì…ë ¥ì— ì·¨ì•½

**í•´ê²°ì±…**: Zod ìŠ¤í‚¤ë§ˆë¡œ ì„œë²„ì‚¬ì´ë“œ ê²€ì¦

```typescript
// src/lib/validation.ts
import { z } from 'zod';

// ì‹œí—˜ ë¶„ì„ ìš”ì²­ ìŠ¤í‚¤ë§ˆ
export const analyzeRequestSchema = z.object({
  studentName: z.string().min(1).max(50),
  formData: z.object({
    testName: z.string().min(1).max(100),
    testDate: z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
    totalScore: z.number().min(0).max(1000),
    maxScore: z.number().min(1).max(1000),
    rank: z.number().min(1).optional(),
    totalStudents: z.number().min(1).optional(),
  }),
  currentImages: z.array(z.string().max(10_000_000)).max(10), // 10MB per image, max 10
});

// í•™ìƒ ìƒì„± ìŠ¤í‚¤ë§ˆ
export const createStudentSchema = z.object({
  name: z.string().min(1).max(50),
  grade: z.number().min(1).max(12),
  school: z.string().max(100).optional(),
  student_id: z.string().regex(/^[A-Z]\d{7}$/),
});

// ë²”ìš© ê²€ì¦ í•¨ìˆ˜
export function validateRequest<T>(schema: z.ZodSchema<T>, data: unknown): T {
  const result = schema.safeParse(data);
  if (!result.success) {
    throw new ValidationError(result.error.errors);
  }
  return result.data;
}

export class ValidationError extends Error {
  constructor(public errors: z.ZodError['errors']) {
    super('Validation failed');
    this.name = 'ValidationError';
  }
}
```

**API Route ì ìš©**:

```typescript
// src/app/api/analyze/route.ts
import { analyzeRequestSchema, validateRequest, ValidationError } from '@/lib/validation';

export async function POST(request: Request) {
  try {
    const body = await request.json();
    const validated = validateRequest(analyzeRequestSchema, body);

    // validated ë°ì´í„°ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬...

  } catch (error) {
    if (error instanceof ValidationError) {
      return Response.json(
        { error: 'ì…ë ¥ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', details: error.errors },
        { status: 400 }
      );
    }
    throw error;
  }
}
```

---

#### 3.1.3. PII(ê°œì¸ì •ë³´) ë³´í˜¸

**í˜„ì¬**: í•™ìƒ ì´ë¦„, í•™êµê°€ í‰ë¬¸ ì €ì¥

**ê°œì„ ì•ˆ** (Phase 2 ì´í›„):

```sql
-- ë¯¼ê° ì •ë³´ ë¶„ë¦¬ í…Œì´ë¸”
CREATE TABLE student_pii (
  id SERIAL PRIMARY KEY,
  student_id INTEGER UNIQUE REFERENCES students(id) ON DELETE CASCADE,
  encrypted_name BYTEA NOT NULL,          -- AES-256 ì•”í˜¸í™”
  encrypted_school BYTEA,
  encryption_key_id TEXT NOT NULL,        -- Key rotation ì§€ì›
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- students í…Œì´ë¸”ì—ì„œ ë¯¼ê° ì •ë³´ ì œê±°
ALTER TABLE students DROP COLUMN name;
ALTER TABLE students DROP COLUMN school;
ALTER TABLE students ADD COLUMN display_name TEXT; -- ë§ˆìŠ¤í‚¹ëœ ì´ë¦„ (ì˜ˆ: ê¹€**)
```

**ìš°ì„ ìˆœìœ„**: ì •ì‹ ì˜¤í”ˆ í›„ (í˜„ì¬ëŠ” êµì‚¬ ë³¸ì¸ ë°ì´í„°ë§Œ ê´€ë¦¬)

---

### 3.2. ì•ˆì •ì„± & QA (Stability) - P1 ê¶Œì¥

#### 3.2.1. E2E í…ŒìŠ¤íŠ¸ (Playwright)

**Critical Path í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:

```typescript
// tests/e2e/critical-path.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Critical Path: ë¦¬í¬íŠ¸ ìƒì„± â†’ í•™ë¶€ëª¨ í™•ì¸', () => {
  test('êµì‚¬ ë¡œê·¸ì¸ â†’ ì‹œí—˜ ë¶„ì„ â†’ ë¦¬í¬íŠ¸ ì €ì¥', async ({ page }) => {
    // 1. ë¡œê·¸ì¸
    await page.goto('/login');
    await page.fill('[name=email]', process.env.TEST_TEACHER_EMAIL!);
    await page.fill('[name=password]', process.env.TEST_TEACHER_PASSWORD!);
    await page.click('button[type=submit]');
    await expect(page).toHaveURL('/admin');

    // 2. ë¦¬í¬íŠ¸ ìƒì„± í˜ì´ì§€ ì´ë™
    await page.click('text=ì‹œí—˜ ë¶„ì„');
    await expect(page).toHaveURL('/admin/reports/new');

    // 3. í•™ìƒ ì„ íƒ
    await page.selectOption('[name=studentId]', { index: 1 });

    // 4. ê¸°ë³¸ ì •ë³´ ì…ë ¥
    await page.fill('[name=testName]', 'E2E í…ŒìŠ¤íŠ¸ ì‹œí—˜');
    await page.fill('[name=totalScore]', '85');
    await page.fill('[name=maxScore]', '100');

    // 5. ì´ë¯¸ì§€ ì—…ë¡œë“œ (í…ŒìŠ¤íŠ¸ìš© ì´ë¯¸ì§€)
    await page.setInputFiles('input[type=file]', 'tests/fixtures/test-paper.jpg');

    // 6. AI ë¶„ì„ ì‹¤í–‰
    await page.click('text=AI ë¶„ì„ ì‹œì‘');
    await expect(page.locator('text=ë¶„ì„ ì™„ë£Œ')).toBeVisible({ timeout: 60000 });

    // 7. ì €ì¥
    await page.click('text=ë¦¬í¬íŠ¸ ì €ì¥');
    await expect(page).toHaveURL('/admin/reports');
    await expect(page.locator('text=E2E í…ŒìŠ¤íŠ¸ ì‹œí—˜')).toBeVisible();
  });

  test('í•™ë¶€ëª¨ ë¡œê·¸ì¸ â†’ ë¦¬í¬íŠ¸ í™•ì¸ â†’ PDF ë‹¤ìš´ë¡œë“œ', async ({ page }) => {
    // 1. í•™ë¶€ëª¨ ë¡œê·¸ì¸
    await page.goto('/login');
    await page.fill('[name=email]', process.env.TEST_PARENT_EMAIL!);
    await page.fill('[name=password]', process.env.TEST_PARENT_PASSWORD!);
    await page.click('button[type=submit]');
    await expect(page).toHaveURL('/parent');

    // 2. ìµœì‹  ë¦¬í¬íŠ¸ í™•ì¸
    await page.click('text=E2E í…ŒìŠ¤íŠ¸ ì‹œí—˜');
    await expect(page.locator('text=ì¢…í•© ë¶„ì„')).toBeVisible();

    // 3. PDF ë‹¤ìš´ë¡œë“œ
    const [download] = await Promise.all([
      page.waitForEvent('download'),
      page.click('text=PDF ì €ì¥'),
    ]);
    expect(download.suggestedFilename()).toContain('.pdf');
  });
});
```

**CI/CD í†µí•©**:

```yaml
# .github/workflows/e2e.yml
name: E2E Tests
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
      - run: npm ci
      - run: npx playwright install --with-deps
      - run: npx playwright test
        env:
          TEST_TEACHER_EMAIL: ${{ secrets.TEST_TEACHER_EMAIL }}
          TEST_TEACHER_PASSWORD: ${{ secrets.TEST_TEACHER_PASSWORD }}
          TEST_PARENT_EMAIL: ${{ secrets.TEST_PARENT_EMAIL }}
          TEST_PARENT_PASSWORD: ${{ secrets.TEST_PARENT_PASSWORD }}
```

---

#### 3.2.2. Graceful Degradation (ë¹„ë™ê¸° ë¶„ì„ í)

**ë¬¸ì œ**: Gemini API íƒ€ì„ì•„ì›ƒ(30ì´ˆ) ì‹œ ì‚¬ìš©ì ê²½í—˜ ì €í•˜

**í•´ê²°ì±…**: ë¶„ì„ ìš”ì²­ í + ë¹„ë™ê¸° ì²˜ë¦¬

```typescript
// src/lib/analysis-queue.ts
import { createClient } from '@/lib/supabase/server';

export interface AnalysisJob {
  id: string;
  student_id: number;
  form_data: Record<string, unknown>;
  images: string[];
  status: 'pending' | 'processing' | 'completed' | 'failed';
  result?: Record<string, unknown>;
  error?: string;
  created_at: string;
  completed_at?: string;
}

// ë¶„ì„ ìš”ì²­ íì— ë“±ë¡
export async function queueAnalysis(
  studentId: number,
  formData: Record<string, unknown>,
  images: string[]
): Promise<{ jobId: string }> {
  const supabase = await createClient();

  const { data, error } = await supabase
    .from('analysis_jobs')
    .insert({
      student_id: studentId,
      form_data: formData,
      images,
      status: 'pending',
    })
    .select('id')
    .single();

  if (error) throw error;

  // ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ íŠ¸ë¦¬ê±° (Vercel Cron ë˜ëŠ” Edge Function)
  await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/jobs/process`, {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${process.env.JOB_SECRET}` },
  });

  return { jobId: data.id };
}

// ë¶„ì„ ìƒíƒœ ì¡°íšŒ
export async function getAnalysisStatus(jobId: string): Promise<AnalysisJob | null> {
  const supabase = await createClient();

  const { data } = await supabase
    .from('analysis_jobs')
    .select('*')
    .eq('id', jobId)
    .single();

  return data;
}
```

**ì‚¬ìš©ì íë¦„**:

```
1. ë¶„ì„ ìš”ì²­ â†’ "ë¶„ì„ì´ ëŒ€ê¸°ì—´ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤" ì¦‰ì‹œ ì‘ë‹µ
2. ë°±ê·¸ë¼ìš´ë“œì—ì„œ Gemini API í˜¸ì¶œ
3. ì™„ë£Œ ì‹œ â†’ ì´ë©”ì¼/í‘¸ì‹œ ì•Œë¦¼ (ë˜ëŠ” í´ë§ìœ¼ë¡œ ìƒíƒœ í™•ì¸)
4. ì‚¬ìš©ìê°€ ê²°ê³¼ í™•ì¸
```

---

### 3.3. ìµœì í™” (Optimization) - P1 ê¶Œì¥

#### 3.3.1. Next.js Cache Strategy

```typescript
// src/app/admin/reports/[id]/page.tsx
import { unstable_cache } from 'next/cache';

// ë¦¬í¬íŠ¸ ë°ì´í„° ìºì‹± (1ì‹œê°„)
const getCachedReport = unstable_cache(
  async (reportId: string) => {
    const supabase = await createClient();
    const { data } = await supabase
      .from('reports')
      .select('*, students(*)')
      .eq('id', reportId)
      .single();
    return data;
  },
  ['report-detail'],
  { revalidate: 3600, tags: ['reports'] }
);

// ìºì‹œ ë¬´íš¨í™” (ë¦¬í¬íŠ¸ ìˆ˜ì • ì‹œ)
import { revalidateTag } from 'next/cache';
await revalidateTag('reports');
```

#### 3.3.2. ì´ë¯¸ì§€ ì••ì¶•

```typescript
// src/lib/image-compression.ts
import imageCompression from 'browser-image-compression';

export async function compressImage(file: File): Promise<string> {
  const options = {
    maxSizeMB: 1,           // ìµœëŒ€ 1MB
    maxWidthOrHeight: 1920, // ìµœëŒ€ í•´ìƒë„
    useWebWorker: true,
    fileType: 'image/jpeg',
  };

  const compressedFile = await imageCompression(file, options);

  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = () => resolve(reader.result as string);
    reader.onerror = reject;
    reader.readAsDataURL(compressedFile);
  });
}
```

---

## 4. Phase 3: í”Œë«í¼ ê³ ë„í™”

### 4.1. í•™ë¶€ëª¨ ìƒí˜¸ì‘ìš© ê°•í™”

#### 4.1.1. ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ

**êµ¬í˜„ ë°©ì‹**: Supabase Realtime + ì´ë©”ì¼ (Resend)

```typescript
// src/lib/notifications.ts
import { Resend } from 'resend';

const resend = new Resend(process.env.RESEND_API_KEY);

export async function notifyParentNewReport(
  parentEmail: string,
  studentName: string,
  reportType: string,
  reportUrl: string
) {
  await resend.emails.send({
    from: 'Math Learning <noreply@mathlearning.app>',
    to: parentEmail,
    subject: `[ìˆ˜í•™í•™ìŠµ] ${studentName} í•™ìƒì˜ ìƒˆ ${reportType} ë¦¬í¬íŠ¸ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤`,
    html: `
      <h2>${studentName} í•™ìƒì˜ ìƒˆ ë¦¬í¬íŠ¸</h2>
      <p>ë¦¬í¬íŠ¸ ìœ í˜•: ${reportType}</p>
      <a href="${reportUrl}" style="
        display: inline-block;
        padding: 12px 24px;
        background: #4F46E5;
        color: white;
        text-decoration: none;
        border-radius: 8px;
      ">ë¦¬í¬íŠ¸ í™•ì¸í•˜ê¸°</a>
    `,
  });
}
```

**DB íŠ¸ë¦¬ê±°**:

```sql
-- ë¦¬í¬íŠ¸ ìƒì„± ì‹œ ì•Œë¦¼ íŠ¸ë¦¬ê±°
CREATE OR REPLACE FUNCTION notify_parent_on_report()
RETURNS TRIGGER AS $$
BEGIN
  -- Edge Function í˜¸ì¶œ (ë¹„ë™ê¸° ì•Œë¦¼ ì²˜ë¦¬)
  PERFORM net.http_post(
    url := current_setting('app.settings.notification_url'),
    body := json_build_object(
      'report_id', NEW.id,
      'student_id', NEW.student_id,
      'report_type', NEW.report_type
    )::text
  );
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER on_report_created
  AFTER INSERT ON reports
  FOR EACH ROW
  EXECUTE FUNCTION notify_parent_on_report();
```

---

#### 4.1.2. í•™ìŠµ ê³„íš ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•™ë¶€ëª¨ìš©)

**UI ì»´í¬ë„ŒíŠ¸**:

```typescript
// src/app/parent/checklist/page.tsx
'use client';

interface ChecklistItem {
  id: number;
  strategy_id: number;
  title: string;
  description: string;
  due_date: string;
  is_completed: boolean;
  completed_at?: string;
  completed_by: 'parent' | 'student';
}

export default function ParentChecklistPage() {
  const [items, setItems] = useState<ChecklistItem[]>([]);

  const handleToggle = async (itemId: number, completed: boolean) => {
    await fetch(`/api/checklist/${itemId}`, {
      method: 'PATCH',
      body: JSON.stringify({ is_completed: completed, completed_by: 'parent' }),
    });
    // ìƒíƒœ ì—…ë°ì´íŠ¸...
  };

  return (
    <div className="space-y-4">
      <h2 className="text-xl font-bold">ì´ë²ˆ ì£¼ í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
      {items.map((item) => (
        <div key={item.id} className="flex items-center gap-3 p-4 bg-white rounded-lg">
          <input
            type="checkbox"
            checked={item.is_completed}
            onChange={(e) => handleToggle(item.id, e.target.checked)}
            className="w-5 h-5 rounded"
          />
          <div className="flex-1">
            <p className="font-medium">{item.title}</p>
            <p className="text-sm text-gray-500">{item.description}</p>
          </div>
          <span className="text-xs text-gray-400">
            {item.due_date}ê¹Œì§€
          </span>
        </div>
      ))}
    </div>
  );
}
```

---

#### 4.1.3. êµì‚¬-í•™ë¶€ëª¨ ë©”ì‹œì§€

**ê°„ë‹¨í•œ í”¼ë“œë°± êµí™˜** (ì „ì²´ ì±„íŒ… ì•„ë‹˜):

```typescript
// í…Œì´ë¸” ì„¤ê³„
interface TeacherParentMessage {
  id: number;
  student_id: number;
  report_id?: number;        // íŠ¹ì • ë¦¬í¬íŠ¸ì— ëŒ€í•œ í”¼ë“œë°±
  sender_role: 'teacher' | 'parent';
  message: string;
  is_read: boolean;
  created_at: string;
}
```

**UI**: ë¦¬í¬íŠ¸ ìƒì„¸ í˜ì´ì§€ì— "ì§ˆë¬¸í•˜ê¸°" ë²„íŠ¼ â†’ ê°„ë‹¨í•œ ë©”ì‹œì§€ í¼

---

### 4.2. í•™ìƒ ìê¸°ì£¼ë„ í•™ìŠµ ê¸°ëŠ¥

#### 4.2.1. í•™ìƒ ì „ìš© ëŒ€ì‹œë³´ë“œ

```
/student ê²½ë¡œ ì‹ ì„¤:
â”œâ”€â”€ /student                    # í•™ìƒ ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ /student/goals              # ëª©í‘œ ì„¤ì •/ì¶”ì 
â”œâ”€â”€ /student/achievements       # ì„±ì·¨ ë°°ì§€
â”œâ”€â”€ /student/journal            # í•™ìŠµ ì¼ì§€
â””â”€â”€ /student/reports/[id]       # ë¦¬í¬íŠ¸ ì—´ëŒ (ì½ê¸° ì „ìš©)
```

#### 4.2.2. ëª©í‘œ ì„¤ì • ì‹œìŠ¤í…œ

```typescript
// src/types/student-goals.ts
interface StudentGoal {
  id: number;
  student_id: number;
  title: string;
  description: string;
  target_type: 'score' | 'concept' | 'habit';
  target_value: number;          // ëª©í‘œ ì ìˆ˜ ë˜ëŠ” íšŸìˆ˜
  current_value: number;         // í˜„ì¬ ë‹¬ì„±ë„
  deadline: string;
  status: 'active' | 'achieved' | 'failed' | 'cancelled';
  created_at: string;
  achieved_at?: string;
}

// ëª©í‘œ ìë™ ì¶”ì  (ë¦¬í¬íŠ¸ ìƒì„± ì‹œ)
async function updateGoalProgress(studentId: number, reportData: AnalysisData) {
  const { data: activeGoals } = await supabase
    .from('student_goals')
    .select('*')
    .eq('student_id', studentId)
    .eq('status', 'active');

  for (const goal of activeGoals || []) {
    if (goal.target_type === 'score') {
      const currentScore = reportData.testResults?.totalScore;
      if (currentScore >= goal.target_value) {
        await markGoalAchieved(goal.id);
        await awardBadge(studentId, 'goal_achieved', goal.title);
      }
    }
    // ... ë‹¤ë¥¸ ëª©í‘œ íƒ€ì… ì²˜ë¦¬
  }
}
```

#### 4.2.3. ì„±ì·¨ ë°°ì§€ ì‹œìŠ¤í…œ

```sql
-- ë°°ì§€ í…Œì´ë¸”
CREATE TABLE badges (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT NOT NULL,
  icon TEXT NOT NULL,                -- ì´ëª¨ì§€ ë˜ëŠ” ì•„ì´ì½˜ ì´ë¦„
  category TEXT NOT NULL,            -- 'score' | 'streak' | 'improvement' | 'goal'
  requirement JSONB NOT NULL,        -- íšë“ ì¡°ê±´
  rarity TEXT DEFAULT 'common'       -- 'common' | 'rare' | 'epic' | 'legendary'
);

-- í•™ìƒ ë°°ì§€ íšë“ ê¸°ë¡
CREATE TABLE student_badges (
  id SERIAL PRIMARY KEY,
  student_id INTEGER REFERENCES students(id),
  badge_id INTEGER REFERENCES badges(id),
  earned_at TIMESTAMPTZ DEFAULT NOW(),
  context JSONB                      -- íšë“ ë§¥ë½ (ì–´ë–¤ ì‹œí—˜ì—ì„œ ë“±)
);

-- ì´ˆê¸° ë°°ì§€ ë°ì´í„°
INSERT INTO badges (name, description, icon, category, requirement, rarity) VALUES
('ì²« ë°œê±¸ìŒ', 'ì²« ë²ˆì§¸ ì‹œí—˜ ë¶„ì„ ì™„ë£Œ', 'ğŸ‘£', 'milestone', '{"first_report": true}', 'common'),
('90ì  ëŒíŒŒ', '90ì  ì´ìƒ ë‹¬ì„±', 'ğŸ¯', 'score', '{"min_score": 90}', 'rare'),
('ì—°ì† í•™ìŠµì™•', '3ì£¼ ì—°ì† í•™ìŠµ ì™„ë£Œ', 'ğŸ”¥', 'streak', '{"weeks": 3}', 'rare'),
('ê°œì„ ì˜ ë‹¬ì¸', 'ì•½ì  ì˜ì—­ 20% ì´ìƒ ê°œì„ ', 'ğŸ“ˆ', 'improvement', '{"improvement_rate": 20}', 'epic'),
('ì™„ë²½í•œ í•œ ë‹¬', 'í•œ ë‹¬ê°„ ëª¨ë“  ì „ëµ 100% ì‹¤í–‰', 'ğŸ’', 'goal', '{"completion_rate": 100}', 'legendary');
```

#### 4.2.4. í•™ìŠµ ì¼ì§€

```typescript
// src/app/student/journal/page.tsx
interface JournalEntry {
  id: number;
  student_id: number;
  date: string;
  study_duration: number;      // ë¶„ ë‹¨ìœ„
  topics: string[];            // í•™ìŠµí•œ ì£¼ì œ
  mood: 'great' | 'good' | 'okay' | 'hard' | 'frustrated';
  reflection: string;          // ìê¸° ì„±ì°°
  next_focus: string;          // ë‹¤ìŒ ì§‘ì¤‘í•  ê²ƒ
  created_at: string;
}
```

---

### 4.3. ì™¸ë¶€ ì—°ë™ (í–¥í›„)

| ì—°ë™ | ìš©ë„ | ìš°ì„ ìˆœìœ„ |
|------|------|---------|
| **ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼** | í•™ë¶€ëª¨ ì•Œë¦¼ (í•œêµ­ ì‹œì¥) | P2 |
| **Google Calendar** | í•™ìŠµ ì¼ì • ì—°ë™ | P3 |
| **ë…¸ì…˜ API** | í•™ìƒë³„ í•™ìŠµ ë…¸íŠ¸ ìë™ ìƒì„± | P3 |

---

## 5. ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸

### 5.1. íƒ€ê²Ÿ ì‹œì¥

#### 5.1.1. 1ì°¨ íƒ€ê²Ÿ: í•™ë¶€ëª¨ (B2C)

| ì„¸ê·¸ë¨¼íŠ¸ | íŠ¹ì„± | ë‹ˆì¦ˆ |
|----------|------|------|
| **í”„ë¦¬ë¯¸ì—„ í•™ë¶€ëª¨** | 1:1 ê³¼ì™¸ ì´ìš©, ë†’ì€ êµìœ¡ íˆ¬ì | íˆ¬ëª…í•œ í•™ìŠµ í˜„í™©, ì„±ì¥ ê°€ì‹œí™” |
| **ì°¸ì—¬í˜• í•™ë¶€ëª¨** | ìë…€ í•™ìŠµì— ì ê·¹ ê´€ì—¬ | êµ¬ì²´ì  ì§€ë„ ë°©ë²•, ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸ |

#### 5.1.2. 2ì°¨ íƒ€ê²Ÿ: ê°œì¸/ì†Œê·œëª¨ ê³¼ì™¸ êµì‚¬ (B2B)

| ì„¸ê·¸ë¨¼íŠ¸ | ê·œëª¨ | ë‹ˆì¦ˆ |
|----------|------|------|
| **ê°œì¸ ê³¼ì™¸ êµì‚¬** | í•™ìƒ 1~10ëª… | íš¨ìœ¨ì  ê´€ë¦¬, ì „ë¬¸ì„± ì–´í•„ |
| **ì†Œê·œëª¨ í•™ì›** | í•™ìƒ 10~50ëª… | ë‹¤ìˆ˜ í•™ìƒ ê´€ë¦¬, í•™ë¶€ëª¨ ì†Œí†µ |
| **êµìœ¡ ì»¨ì„¤í„´íŠ¸** | í•™ìƒ 5~20ëª… | ì‹¬ì¸µ ë¶„ì„, ì¥ê¸° ì„±ì¥ ì¶”ì  |

---

### 5.2. ê°€ê²© ì •ì±… (ì•ˆ)

#### 5.2.1. í•™ë¶€ëª¨ìš© (B2C)

| í”Œëœ | ê°€ê²© | í¬í•¨ ê¸°ëŠ¥ |
|------|------|----------|
| **ë¬´ë£Œ** | 0ì› | ë¦¬í¬íŠ¸ ì—´ëŒ, PDF ë‹¤ìš´ë¡œë“œ |
| **í”„ë¦¬ë¯¸ì—„** | 9,900ì›/ì›” | + ì‹¤ì‹œê°„ ì•Œë¦¼, ì²´í¬ë¦¬ìŠ¤íŠ¸, ë©”ì‹œì§€ |

> í•™ë¶€ëª¨ëŠ” ëŒ€ë¶€ë¶„ **êµì‚¬ê°€ ì´ˆëŒ€í•œ ë¬´ë£Œ ì‚¬ìš©ì**ë¡œ ì‹œì‘

#### 5.2.2. êµì‚¬ìš© (B2B) - í•µì‹¬ ìˆ˜ìµ ëª¨ë¸

| í”Œëœ | ê°€ê²© | í•™ìƒ ìˆ˜ | í¬í•¨ ê¸°ëŠ¥ |
|------|------|--------|----------|
| **Starter** | ë¬´ë£Œ | 3ëª… | ê¸°ë³¸ ë¶„ì„, ë¦¬í¬íŠ¸ ìƒì„± |
| **Professional** | 29,000ì›/ì›” | 15ëª… | + AI ì‹¬ì¸µ ë¶„ì„, ì „ëµ ì¶”ì  |
| **Business** | 79,000ì›/ì›” | 50ëª… | + ë‹¤ì¤‘ êµì‚¬, API ì ‘ê·¼, ìš°ì„  ì§€ì› |
| **Enterprise** | ë³„ë„ í˜‘ì˜ | ë¬´ì œí•œ | + í™”ì´íŠ¸ë¼ë²¨, ì „ìš© ì„œë²„ |

---

### 5.3. ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜

**1ë…„ì°¨ ëª©í‘œ** (ë³´ìˆ˜ì ):

| êµ¬ë¶„ | ìˆ˜ëŸ‰ | ë‹¨ê°€ | ì›” ë§¤ì¶œ |
|------|------|------|--------|
| Professional êµì‚¬ | 50ëª… | 29,000ì› | 1,450,000ì› |
| Business êµì‚¬ | 10ëª… | 79,000ì› | 790,000ì› |
| í”„ë¦¬ë¯¸ì—„ í•™ë¶€ëª¨ | 100ëª… | 9,900ì› | 990,000ì› |
| **í•©ê³„** | - | - | **3,230,000ì›/ì›”** |

**ë¹„ìš©**:

| í•­ëª© | ì›” ë¹„ìš© |
|------|--------|
| Vercel Pro | $20 (â‰ˆ27,000ì›) |
| Supabase Pro | $25 (â‰ˆ34,000ì›) |
| Gemini API | ~$50 (â‰ˆ68,000ì›) |
| Resend (ì´ë©”ì¼) | $20 (â‰ˆ27,000ì›) |
| **í•©ê³„** | **â‰ˆ156,000ì›/ì›”** |

**ì˜ˆìƒ ìˆœì´ìµ**: ì•½ 3,000,000ì›/ì›”

---

### 5.4. êµì‚¬ íƒ€ê²Ÿ ë§ˆì¼€íŒ… ì „ëµ

#### 5.4.1. ì±„ë„

| ì±„ë„ | ì „ëµ |
|------|------|
| **ë„¤ì´ë²„ ì¹´í˜** | ê³¼ì™¸/í•™ì› êµì‚¬ ì»¤ë®¤ë‹ˆí‹° í›„ê¸° ë§ˆì¼€íŒ… |
| **ì¸ìŠ¤íƒ€ê·¸ë¨** | êµìœ¡ ì¸í”Œë£¨ì–¸ì„œ í˜‘ì—… |
| **ìœ íŠœë¸Œ** | "AIë¡œ ê³¼ì™¸ ê´€ë¦¬í•˜ëŠ” ë²•" íŠœí† ë¦¬ì–¼ |
| **êµìœ¡ ë°•ëŒíšŒ** | B2B ë¦¬ë“œ í™•ë³´ |

#### 5.4.2. í•µì‹¬ ê°€ì¹˜ ì œì•ˆ (êµì‚¬ìš©)

```
"í•™ìƒ ê´€ë¦¬ì— ì“°ëŠ” ì‹œê°„ì„ ì ˆë°˜ìœ¼ë¡œ,
í•™ë¶€ëª¨ ì‹ ë¢°ëŠ” ë‘ ë°°ë¡œ"

âœ… AIê°€ ì‹œí—˜ ë¶„ì„ â†’ ì „ë¬¸ì„± ì–´í•„
âœ… ì„±ì¥ ë¦¬í¬íŠ¸ ìë™ ìƒì„± â†’ í•™ë¶€ëª¨ ë§Œì¡±
âœ… ë°ì´í„° ê¸°ë°˜ ì»¨ì„¤íŒ… â†’ ì°¨ë³„í™”ëœ ì„œë¹„ìŠ¤
âœ… í•™ìƒ ìˆ˜ ì¦ê°€í•´ë„ ê´€ë¦¬ ë¶€ë‹´ ë™ì¼
```

#### 5.4.3. ì˜¨ë³´ë”© ì „ëµ

1. **ë¬´ë£Œ ì²´í—˜**: Starter í”Œëœìœ¼ë¡œ 3ëª…ê¹Œì§€ ë¬´ë£Œ ì‚¬ìš©
2. **ì„±ê³µ ì‚¬ë¡€ ê³µìœ **: ì²« ë¦¬í¬íŠ¸ ìƒì„± í›„ "ì´ë ‡ê²Œ í™œìš©í•˜ì„¸ìš”" ê°€ì´ë“œ
3. **1:1 ì˜¨ë³´ë”© ì½œ**: ì²« Professional êµ¬ë… ì‹œ 30ë¶„ ì…‹ì—… ì§€ì›
4. **ë ˆí¼ëŸ´ í”„ë¡œê·¸ë¨**: êµì‚¬ ì¶”ì²œ ì‹œ ì–‘ìª½ 1ê°œì›” ë¬´ë£Œ

---

## 6. ìƒìš©í™” ë°°í¬ ê³„íš

### 6.1. Step 1: MVP ë°°í¬ (1ì£¼)

#### 6.1.1. ì¸í”„ë¼ ì„¤ì •

```bash
# Vercel Pro ì—…ê·¸ë ˆì´ë“œ
vercel upgrade pro

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add GEMINI_API_KEY production
vercel env add NEXT_PUBLIC_SUPABASE_URL production
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY production
vercel env add SUPABASE_SERVICE_ROLE_KEY production
vercel env add UPSTASH_REDIS_REST_URL production
vercel env add UPSTASH_REDIS_REST_TOKEN production
vercel env add SENTRY_DSN production
```

#### 6.1.2. ëª¨ë‹ˆí„°ë§ ì„¤ì • (Sentry)

```typescript
// sentry.client.config.ts
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 0.1,
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,
});
```

#### 6.1.3. ë² íƒ€ í…ŒìŠ¤í„° ì„ ì •

- ì¶©ì„±ë„ ë†’ì€ í•™ë¶€ëª¨ 3~5ëª… ì„ ì •
- ê°œì¸ ì—°ë½ìœ¼ë¡œ ë² íƒ€ í…ŒìŠ¤íŠ¸ ìš”ì²­
- í”¼ë“œë°± ìˆ˜ì§‘ ì±„ë„ ì¤€ë¹„ (ì¹´ì¹´ì˜¤í†¡ ë˜ëŠ” í¼)

---

### 6.2. Step 2: ì•ˆì •í™” (2ì£¼)

#### 6.2.1. ë² íƒ€ í”¼ë“œë°± ë°˜ì˜

```
[ ] UI/UX ê°œì„  ì‚¬í•­
[ ] ë²„ê·¸ ìˆ˜ì •
[ ] ì„±ëŠ¥ ì´ìŠˆ í•´ê²°
[ ] ëˆ„ë½ ê¸°ëŠ¥ ë³´ì™„
```

#### 6.2.2. ë³´ì•ˆ ì ê²€

```
[ ] Rate Limiting ë™ì‘ í™•ì¸
[ ] Input Validation í…ŒìŠ¤íŠ¸
[ ] RLS ì •ì±… ê²€ì¦
[ ] API í‚¤ ë…¸ì¶œ í™•ì¸
```

---

### 6.3. Step 3: ì •ì‹ ì˜¤í”ˆ (1ì£¼)

- ì „ì²´ í•™ë¶€ëª¨ ê³„ì • ìƒì„±
- ì´ˆëŒ€ ì´ë©”ì¼ ë°œì†¡
- ì‚¬ìš© ê°€ì´ë“œ ì œê³µ
- í”¼ë“œë°± ì±„ë„ ì•ˆë‚´

---

### 6.4. Step 4: êµì‚¬ í™•ì¥ (4ì£¼)

- ëœë”© í˜ì´ì§€ ì œì‘ (êµì‚¬ìš©)
- ê°€ê²© ì •ì±… ê³µê°œ
- ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ (Stripe/í† ìŠ¤í˜ì´ë¨¼ì¸ )
- ë§ˆì¼€íŒ… ìº í˜ì¸ ì‹œì‘

---

## 7. ìš´ì˜ ê³ ë„í™” ê³„íš

### 7.1. CI/CD íŒŒì´í”„ë¼ì¸

```yaml
# .github/workflows/deploy.yml
name: Deploy
on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm ci
      - run: npm run lint
      - run: npm run build
      - run: npx playwright test

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
```

### 7.2. Feature Flag ì‹œìŠ¤í…œ

```typescript
// src/lib/feature-flags.ts
type FeatureFlag =
  | 'parent_notifications'
  | 'student_dashboard'
  | 'ai_queue_system'
  | 'new_report_type';

const FLAGS: Record<FeatureFlag, boolean> = {
  parent_notifications: false,  // ê°œë°œ ì™„ë£Œ í›„ trueë¡œ
  student_dashboard: false,
  ai_queue_system: false,
  new_report_type: false,
};

export function isFeatureEnabled(flag: FeatureFlag): boolean {
  // í™˜ê²½ ë³€ìˆ˜ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
  const envKey = `NEXT_PUBLIC_FF_${flag.toUpperCase()}`;
  if (process.env[envKey] === 'true') return true;
  if (process.env[envKey] === 'false') return false;
  return FLAGS[flag];
}

// ì‚¬ìš© ì˜ˆì‹œ
if (isFeatureEnabled('parent_notifications')) {
  await sendNotification(...);
}
```

### 7.3. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

**ì¶”ì  ì§€í‘œ**:

| ì§€í‘œ | ë„êµ¬ | ì•Œë¦¼ ì¡°ê±´ |
|------|------|----------|
| ì—ëŸ¬ìœ¨ | Sentry | > 1%/ì‹œê°„ |
| API ì‘ë‹µ ì‹œê°„ | Vercel Analytics | > 3ì´ˆ |
| DB ì—°ê²° | Supabase | ì—°ê²° ì‹¤íŒ¨ |
| Rate Limit ë„ë‹¬ | Upstash | ì¼ì¼ 80% ë„ë‹¬ |

---

## 8. ì‹¤í–‰ ë¡œë“œë§µ

### 8.1. ì¦‰ì‹œ ì‹¤í–‰ (Week 1)

```
Day 1-2: ë³´ì•ˆ ê°•í™”
  [ ] Upstash ê³„ì • ìƒì„± ë° Rate Limiting êµ¬í˜„
  [ ] Zod ì„¤ì¹˜ ë° Input Validation ì ìš©
  [ ] Sentry ì„¤ì¹˜ ë° ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ì„¤ì •

Day 3-4: ì¸í”„ë¼ ì„¤ì •
  [ ] Vercel Pro ì—…ê·¸ë ˆì´ë“œ
  [ ] Supabase Pro ì—…ê·¸ë ˆì´ë“œ
  [ ] í™˜ê²½ ë³€ìˆ˜ ì •ë¦¬

Day 5-7: ë² íƒ€ ë°°í¬
  [ ] í”„ë¡œë•ì…˜ ë°°í¬
  [ ] ë² íƒ€ í…ŒìŠ¤í„° ì´ˆëŒ€
  [ ] í”¼ë“œë°± ìˆ˜ì§‘ ì‹œì‘
```

### 8.2. 2-3ì£¼ì°¨: ì•ˆì •í™”

```
[ ] ë² íƒ€ í”¼ë“œë°± ë°˜ì˜
[ ] E2E í…ŒìŠ¤íŠ¸ ì‘ì„±
[ ] ì„±ëŠ¥ ìµœì í™”
[ ] ë¬¸ì„œí™” (ì‚¬ìš© ê°€ì´ë“œ)
```

### 8.3. 4ì£¼ì°¨: ì •ì‹ ì˜¤í”ˆ

```
[ ] ì „ì²´ í•™ë¶€ëª¨ ì˜¤í”ˆ
[ ] í•™ë¶€ëª¨ ì•Œë¦¼ ì‹œìŠ¤í…œ (Phase 3.1)
[ ] ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ (Phase 3.1)
```

### 8.4. 5-8ì£¼ì°¨: êµì‚¬ í™•ì¥

```
[ ] ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™
[ ] êµì‚¬ìš© ëœë”© í˜ì´ì§€
[ ] ë©€í‹°í…Œë„Œì‹œ êµ¬ì¡° (ì—¬ëŸ¬ êµì‚¬ ì§€ì›)
[ ] ë§ˆì¼€íŒ… ìº í˜ì¸ ì‹œì‘
```

### 8.5. 9-12ì£¼ì°¨: í•™ìƒ ê¸°ëŠ¥

```
[ ] í•™ìƒ ëŒ€ì‹œë³´ë“œ (Phase 3.2)
[ ] ëª©í‘œ ì„¤ì • ì‹œìŠ¤í…œ
[ ] ë°°ì§€ ì‹œìŠ¤í…œ
[ ] í•™ìŠµ ì¼ì§€
```

---

## ë¶€ë¡: ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| ì˜ì—­ | í˜„ì¬ | ìƒìš©í™” í›„ ì¶”ê°€ |
|------|------|---------------|
| **Frontend** | Next.js 16, React 19, Tailwind CSS | - |
| **Backend** | Next.js API Routes, Supabase | Upstash Redis |
| **Database** | Supabase PostgreSQL | - |
| **AI** | Google Gemini 2.5 Flash | - |
| **Auth** | Supabase Auth | - |
| **Hosting** | Vercel | Vercel Pro |
| **Monitoring** | - | Sentry |
| **Email** | - | Resend |
| **Payment** | - | Stripe/í† ìŠ¤í˜ì´ë¨¼ì¸  |
| **Testing** | - | Playwright |

---

**ì‘ì„±ì¼**: 2025-12-31
**ë‹¤ìŒ ê²€í† ì¼**: MVP ë°°í¬ í›„ (1ì£¼)
**ë‹´ë‹¹ì**: êµì‚¬ (í”„ë¡œì íŠ¸ ì˜¤ë„ˆ)
